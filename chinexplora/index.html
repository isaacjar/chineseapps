<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ChinExplora</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üõ§Ô∏è</text></svg>">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="app-container">
        <!-- Barra superior -->
        <div class="header">
            <div class="logo" id="logo">
                <span>üõ§Ô∏è</span>
                <span>ChinExplora</span>
            </div>
            <div class="score-display" id="scoreDisplay">
                <div class="score-item"><span>üå±</span> <span id="currentQuestion">1/15</span></div>
                <div class="score-item"><span>üèÖ</span> <span id="score">0</span></div>
                <div class="score-item"><span>üî•</span> <span id="streak">0</span></div>
                <div class="score-item"><span>‚ù§Ô∏è</span> <span id="lives">3</span></div>
            </div>
            <button class="btn-settings" id="btnSettings">‚öôÔ∏è</button>
        </div>

        <!-- Pantallas de la aplicaci√≥n -->
        <div class="screen" id="menuScreen">
            <div class="menu">
                <h2 class="menu-title" data-lang="menuTitle">Men√∫ Principal</h2>
                <button class="btn-game" id="btnGame1">üö© <span data-lang="game1">Flags</span></button>
                <button class="btn-game" id="btnGame2">üó∫Ô∏è <span data-lang="game2">Shapes</span></button>
                <button class="btn-game" id="btnGame3">üèûÔ∏è <span data-lang="game3">Places</span></button>
                <button class="btn-game" id="btnCountriesList">üìÑ <span data-lang="countriesList">Lista de Pa√≠ses</span></button>
                <button class="btn-game" id="btnChinaMap">üóæ <span data-lang="chinaMap">Mapa de China</span></button>
                <button class="btn-game" id="btnStats">üìä <span data-lang="stats">Estad√≠sticas</span></button>
            </div>
        </div>

        <div class="screen hidden" id="settingsScreen">
            <div class="settings">
                <h2 data-lang="settings">Configuraci√≥n</h2>
                <div class="setting-row">
                    <label data-lang="language">Language:</label>
                    <select id="languageSelect">
                        <option value="en">üóΩ English</option>
                        <option value="es">üíÉ Espa√±ol</option>
                    </select>
                </div>
                <div class="setting-row">
                    <label data-lang="pinyin">Pinyin:</label>
                    <label class="switch">
                        <input type="checkbox" id="pinyinToggle" checked>
                        <span class="slider round"></span>
                    </label>
                </div>
                <div class="setting-row">
                    <label data-lang="difficulty"><span id="difficultyIcon">üòé</span></label>
                    <label class="switch">
                        <input type="checkbox" id="difficultyToggle">
                        <span class="slider round"></span>
                    </label>
                </div>
                <div class="setting-row">
                    <label>üåç <span data-lang="countryCount"></span></label>
                    <input type="range" id="countryCountSlider" min="10" max="135" step="5" value="50">
                    <span id="countryCountValue">10</span>
                </div>
                <div class="setting-row">
                    <label>‚ùì</label>
                    <input type="range" id="questionsSlider" min="5" max="50" step="5" value="15">
                    <span id="questionsValue">15</span>
                </div>
                <div class="setting-row">
                    <label>‚è±Ô∏è</label>
                    <input type="range" id="timerSlider" min="2" max="30" step="1" value="10">
                    <span id="timerValue">10 s</span>
                </div>
                <div class="setting-row">
                    <label>‚ù§Ô∏è</label>
                    <input type="range" id="livesSlider" min="1" max="10" step="1" value="3">
                    <span id="livesValue">3</span>
                </div>
                <div class="settings-buttons">
                    <button class="btn-action" id="btnSaveSettings" data-lang="save">üíæ Guardar</button>
                    <button class="btn-action" id="btnResetSettings" data-lang="reset">üîÑ Resetear</button>
                    <button class="btn-action" id="btnCancelSettings" data-lang="cancel">Cancelar</button>
                </div>
            </div>
        </div>

        <div class="screen hidden" id="gameScreen">
            <div class="game-container">
                <div class="flag-container" id="flagContainer">
                    <!-- Aqu√≠ se insertar√° el SVG o la imagen -->
                </div>
                <div class="options-container" id="optionsContainer">
                    <!-- Las opciones se generar√°n din√°micamente -->
                </div>
                <div class="timer-container">
                    <div class="timer-bar" id="timerBar"></div>
                </div>
            </div>
        </div>

        <div class="screen hidden" id="statsScreen">
            <div class="stats">
                <h2 data-lang="stats">Estad√≠sticas</h2>
                <div class="stat-item">
                    <span data-lang="correctAnswers">Porcentaje de aciertos:</span>
                    <span id="statPercentage">0%</span>
                </div>
                <div class="stat-item">
                    <span data-lang="totalPoints">Puntos totales:</span>
                    <span id="statTotalPoints">0</span>
                </div>
                <div class="stat-item">
                    <span data-lang="bestStreak">Mejor racha:</span>
                    <span id="statBestStreak">0</span>
                </div>
                <button class="btn-action" id="btnAcceptStats" data-lang="accept">Aceptar</button>
            </div>
        </div>

        <div class="screen hidden" id="gameOverScreen">
            <div class="game-over">
                <h2 id="gameOverTitle">Game Over</h2>
                <div class="stat-item">
                    <span data-lang="correctAnswers">Porcentaje de aciertos:</span>
                    <span id="finalPercentage">0%</span>
                </div>
                <div class="stat-item">
                    <span data-lang="totalPoints">Puntos totales:</span>
                    <span id="finalPoints">0</span>
                </div>
                <div class="stat-item">
                    <span data-lang="bestStreak">Mejor racha:</span>
                    <span id="finalStreak">0</span>
                </div>
                <div class="game-over-buttons">
                    <button class="btn-action" id="btnPlayAgain" data-lang="playAgain">üîÅ Jugar otra vez</button>
                    <button class="btn-action" id="btnGoToMenu" data-lang="goToMenu">üè† Ir a men√∫</button>
                </div>
            </div>
        </div>
        <!-- Pantalla de Lista de Pa√≠ses -->
        <div class="screen hidden" id="countriesListScreen">
            <div class="countries-list">
                <!-- <h2 data-lang="countriesList">Countries / Pa√≠ses</h2> -->
                <div class="search-container">
                    <input type="text" id="countrySearch" placeholder="Buscar pa√≠s..." class="search-input">
                </div>
                <div class="countries-grid" id="countriesGrid">
                    <!-- Los pa√≠ses se cargar√°n aqu√≠ din√°micamente -->
                </div>
                <button class="btn-action" id="btnBackFromCountries">‚¨ÖÔ∏è </button>
            </div>
        </div>
        
        <!-- Modal para mostrar bandera y silueta -->
        <div class="modal hidden" id="countryModal">
            <div class="modal-content">
                <button class="modal-close" id="modalClose">√ó</button>
                <div class="modal-flag-container">
                    <img id="modalFlag" src="" alt="Bandera" class="modal-flag">
                </div>
                <div class="modal-outline-container">
                    <img id="modalOutline" src="" alt="Silueta" class="modal-outline">
                </div>
                <div class="modal-country-info">
                    <h3 id="modalCountryName"></h3>
                    <p id="modalCountryPinyin"></p>
                    <p id="modalCountryTranslation"></p>
                </div>
            </div>
        </div>
        
        <!-- Pantalla del Mapa de China Interactivo -->
        <div class="screen hidden" id="chinaMapScreen">
            <div class="interactive-map-container">
                <h2 data-lang="chinaMap">China</h2>
                <div class="map-wrapper">
                    <div class="interactive-map">
                        <img src="flags/aachinamap.png" alt="Mapa de China" class="china-map-large">
                        <svg class="interactive-points-overlay" id="interactivePointsOverlay" width="100%" height="100%" viewBox="0 0 500 400"></svg>
                    </div>
                </div>
                <div class="location-info" id="locationInfo">
                    <!-- La informaci√≥n del lugar se mostrar√° aqu√≠ -->
                </div>
                <button class="btn-action" id="btnBackFromMap">‚¨ÖÔ∏è Volver</button>
            </div>
        </div>
        <!-- Toast notification -->
        <div class="toast hidden" id="toast"></div>
    </div>
    
    <script src="js/settings.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/stats.js"></script>
    <script src="js/game1.js"></script>
    <script src="js/game2.js"></script>
    <script src="js/game3.js"></script>
    <script src="js/app.js"></script>
    <script src="js/features.js"></script>
</body>
</html>
