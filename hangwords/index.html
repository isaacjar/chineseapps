<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Ahorcado — Ejemplo SVG</title>
<style>
  body { font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; display:flex; gap:20px;
         align-items:flex-start; padding:24px; background:#f7fafc; color:#0f172a; }
  .container { max-width:760px; }
  svg { width:320px; height:420px; display:block; background: white; border-radius:8px; box-shadow:0 6px 20px rgba(2,6,23,0.08); }
  .hidden { opacity: 0; transform-origin: center; transition: opacity .25s ease, transform .25s ease; pointer-events:none; }
  .visible { opacity: 1; transform: none; }
  /* pequeñas animaciones para aparecer */
  .part { transform: translateY(-8px) scale(.98); }
  .visible.part { transform: translateY(0) scale(1); }
  /* estilo del UI demo */
  .controls { display:flex; flex-direction:column; gap:8px; margin-left:12px; width:300px; }
  button { padding:10px 12px; border-radius:8px; border:1px solid #e6e9ef; background:white; cursor:pointer; }
  button:active { transform: translateY(1px); }
  .status { font-weight:600; margin-top:8px; }
  .small { font-size:0.9rem; color:#475569; }
</style>
</head>
<body>
  <div class="container">
    <svg viewBox="0 0 200 260" aria-labelledby="title desc" role="img">
      <title id="title">Ahorcado</title>
      <desc id="desc">Gallows y muñeco para juego del ahorcado. Las partes del muñeco aparecen a medida que hay fallos.</desc>

      <!-- Gallows (siempre visibles) -->
      <g id="gallows" stroke="#0f172a" stroke-width="3" fill="none" stroke-linecap="round" stroke-linejoin="round">
        <line x1="10" y1="250" x2="150" y2="250"/> <!-- base -->
        <line x1="40" y1="250" x2="40" y2="30"/>   <!-- poste vertical -->
        <line x1="40" y1="30" x2="110" y2="30"/>   <!-- travesaño -->
        <line x1="110" y1="30" x2="110" y2="50"/>  <!-- cuerda -->
      </g>

      <!-- Partes del muñeco (ocultas al inicio) -->
      <!-- 1 cabeza -->
      <g id="part-head" class="hidden part" stroke="#0f172a" stroke-width="2" fill="none">
        <circle cx="110" cy="70" r="16"/> 
      </g>

      <!-- 2 cuerpo -->
      <g id="part-body" class="hidden part" stroke="#0f172a" stroke-width="2" fill="none">
        <line x1="110" y1="86" x2="110" y2="140"/>
      </g>

      <!-- 3 brazo izquierdo -->
      <g id="part-arm-left" class="hidden part" stroke="#0f172a" stroke-width="2" fill="none">
        <line x1="110" y1="100" x2="86" y2="118"/>
      </g>

      <!-- 4 brazo derecho -->
      <g id="part-arm-right" class="hidden part" stroke="#0f172a" stroke-width="2" fill="none">
        <line x1="110" y1="100" x2="134" y2="118"/>
      </g>

      <!-- 5 pierna izquierda -->
      <g id="part-leg-left" class="hidden part" stroke="#0f172a" stroke-width="2" fill="none">
        <line x1="110" y1="140" x2="94" y2="180"/>
      </g>

      <!-- 6 pierna derecha -->
      <g id="part-leg-right" class="hidden part" stroke="#0f172a" stroke-width="2" fill="none">
        <line x1="110" y1="140" x2="126" y2="180"/>
      </g>

      <!-- detalles opcionales (ojos, boca) como etapas extra -->
      <g id="part-face" class="hidden part" stroke="#0f172a" stroke-width="1.5" fill="none">
        <line x1="104" y1="68" x2="106" y2="70"/> <!-- ojo izq (cruz) -->
        <line x1="106" y1="68" x2="104" y2="70"/>
        <line x1="114" y1="68" x2="116" y2="70"/> <!-- ojo dch -->
        <line x1="116" y1="68" x2="114" y2="70"/>
        <path d="M104 76 Q110 80 116 76" stroke-linecap="round"/> <!-- boca -->
      </g>
    </svg>
  </div>

  <div class="controls" aria-hidden="false">
    <div class="small">Demo: muestra partes según errores. <br> Configurable a tu lógica de juego.</div>
    <div>
      <strong>Intentos máximos:</strong> <span id="maxAttemptsLabel">6</span>
    </div>
    <div class="status">Errores: <span id="mistakes">0</span> / <span id="maxAttempts">6</span></div>
    <div style="display:flex; gap:8px;">
      <button id="btnWrong">Registrar fallo</button>
      <button id="btnUndo">Deshacer fallo</button>
      <button id="btnReset">Reiniciar</button>
    </div>
    <div style="margin-top:6px;">
      <small class="small">Orden de aparición: cabeza → cuerpo → brazo izq → brazo dch → pierna izq → pierna dch → cara (opcional)</small>
    </div>
  </div>

<script>
/*
  LÓGICA:
  - parts: array con ids de las partes en el orden en que deben aparecer.
  - mistakes: errores actuales.
  - maxAttempts: número máximo de fallos permitidos (por ejemplo 6).
  - call markWrong() cuando el jugador falle; call resetHangman() para reiniciar.
*/

const parts = [
  'part-head',
  'part-body',
  'part-arm-left',
  'part-arm-right',
  'part-leg-left',
  'part-leg-right',
  // 'part-face' // si quieres la cara como etapa final, descomenta
];

let mistakes = 0;
const maxAttempts = 6; // puedes cambiarlo o calcularlo dinámicamente
document.getElementById('maxAttempts').textContent = maxAttempts;
document.getElementById('maxAttemptsLabel').textContent = maxAttempts;

function showPart(index) {
  const id = parts[index];
  if (!id) return;
  const el = document.getElementById(id);
  if (!el) return;
  el.classList.remove('hidden');
  el.classList.add('visible');
}

function hidePart(index) {
  const id = parts[index];
  if (!id) return;
  const el = document.getElementById(id);
  if (!el) return;
  el.classList.add('hidden');
  el.classList.remove('visible');
}

function updateView() {
  // muestra las primeras `mistakes` partes
  for (let i = 0; i < parts.length; i++) {
    const el = document.getElementById(parts[i]);
    if (!el) continue;
    if (i < mistakes) {
      el.classList.add('visible');
      el.classList.remove('hidden');
    } else {
      el.classList.add('hidden');
      el.classList.remove('visible');
    }
  }
  document.getElementById('mistakes').textContent = mistakes;
  // si se alcanza el máximo, puedes disparar game over aquí
  if (mistakes >= maxAttempts) {
    // ejemplo: bloquear botones y mostrar alerta (integra con tu lógica)
    document.getElementById('btnWrong').disabled = true;
    alert('¡Game over! Has alcanzado el número máximo de fallos.');
  }
}

function markWrong() {
  if (mistakes >= maxAttempts) return;
  mistakes = Math.min(mistakes + 1, parts.length);
  updateView();
}

function undoWrong() {
  if (mistakes <= 0) return;
  mistakes = Math.max(mistakes - 1, 0);
  updateView();
}

function resetHangman() {
  mistakes = 0;
  document.getElementById('btnWrong').disabled = false;
  updateView();
}

// botones demo
document.getElementById('btnWrong').addEventListener('click', markWrong);
document.getElementById('btnUndo').addEventListener('click', undoWrong);
document.getElementById('btnReset').addEventListener('click', resetHangman);

// Inicializa vista
resetHangman();

/* 
  INTEGRACIÓN con tu juego:
  - Cuando el jugador acierte una letra: no llames a markWrong().
  - Cuando falle: llama a markWrong().
  - Si quieres otras reglas (p. ej. más etapas), edita `parts` y `maxAttempts`.
  - Si tu juego tiene más etapas que partes visuales, puedes:
      - añadir detalles (ojos, boca, manos, accesorios) como elementos SVG.
      - cambiar el orden de aparición.
  - Para animaciones más chulas: usa transformaciones CSS o SMIL/animate en SVG.
*/
</script>
</body>
</html>
